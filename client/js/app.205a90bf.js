(function(t){function e(e){for(var s,n,r=e[0],c=e[1],d=e[2],m=0,u=[];m<r.length;m++)n=r[m],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(u.length)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),t._v(" "),a("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[t._v("Kanban")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"boards"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"boards"}}},[t._v("My-Dashboard")])],1):t._e()]),t._v(" "),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],c=a("bc3a"),d=a.n(c);d.a.create({baseURL:"https://localhost:3000",withCredentials:!0});var l={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){await this.$auth.logout({returnTo:window.location.origin})}}},m=l,u=a("2877"),p=Object(u["a"])(m,n,r,!1,null,null,null),h=p.exports,v=a("335d"),b={name:"App",async beforeCreate(){try{await Object(v["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")}catch(t){this.$router.push({name:"home"})}},components:{Navbar:h}},g=b,w=(a("5c0b"),Object(u["a"])(g,o,i,!1,null,null,null)),f=w.exports,k=a("8c4f"),C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h1",[t._v("This is your home page.")])])}],_={name:"home",data(){return{}},computed:{},methods:{},components:{}},T=_,$=Object(u["a"])(T,C,y,!1,null,"0372c442",null),x=$.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"boards"},[t._v("\n  WELCOME TO THE BOARDS!!!\n  "),a("form",{on:{submit:function(e){return e.preventDefault(),t.addBoard(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newBoard.title},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"title",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newBoard.description},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"description",e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("Create Board")])]),t._v(" "),t._l(t.boards,(function(e){return a("div",{key:e.id,attrs:{board:e}},[a("router-link",{attrs:{to:{name:"board",params:{boardId:e.id}}}},[t._v(t._s(e.title))])],1)}))],2)},L=[],B={name:"boards",mounted(){this.$store.dispatch("getBoards"),console.log()},data(){return{newBoard:{title:"",description:""}}},computed:{boards(){return this.$store.state.boards}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}}}},I=B,O=Object(u["a"])(I,D,L,!1,null,null,null),j=O.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board bg-secondary container-fluid"},[a("div",{staticClass:"row justify-content-around"},t._l(t.lists,(function(t){return a("list",{key:t.id,attrs:{listData:t}})}))),t._v(" "),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-12 pb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addList(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newList.title,expression:"newList.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newList.title},on:{input:function(e){e.target.composing||t.$set(t.newList,"title",e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("Create List")])])])])])},P=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list bg-danger text-center mx-1 my-3 col-3 rounded shadow",attrs:{dropzone:"zone"},on:{drop:function(e){e.preventDefault(),t.moveTask(t.listData)},dragover:function(t){t.preventDefault()}}},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-12 text-right"},[a("div",{staticClass:"btn-group rounded mt-1 text-right shadow",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){t.deleteList()}}},[t._v("Delete This List")])])])]),t._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12 text-center"},[a("h1",{staticClass:"bg-success p-0 rounded shadow text-light"},[t._v(t._s(t.listData.title))])])]),t._v(" "),a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-12 listTasks"},t._l(t.tasks,(function(e,s){return a("task",{key:e.id,attrs:{draggable:"true",taskData:e,listId:t.listData.id},on:{dragstart:function(a){t.reorderTask(e,s)}}})})))]),t._v(" "),a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],staticClass:"rounded shadow w-100 bg-warning my-1",attrs:{type:"text",placeholder:"New task title...",onfocus:"this.value=''"},domProps:{value:t.newTask.title},on:{input:function(e){e.target.composing||t.$set(t.newTask,"title",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.description,expression:"newTask.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter a new task here...","aria-label":"Recipient's username","aria-describedby":"button-addon2",onfocus:"this.value=''"},domProps:{value:t.newTask.description},on:{input:function(e){e.target.composing||t.$set(t.newTask,"description",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-light btn-success",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){t.addTask()}}},[t._v("\n            Add\n            Task\n          ")])])])])])])},N=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task bg-info text-center rounded shadow m-auto",on:{dragstart:function(e){t.moveTask()}}},[a("div",{staticClass:"row text-center my-4"},[a("div",{staticClass:"col-12 text-right"},[a("div",{staticClass:"btn-group rounded mt-1 text-right shadow",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("button",{staticClass:"btn btn-secondary mt-1 mr-2",attrs:{type:"button"},on:{click:function(e){t.deleteTask()}}},[t._v("Delete This Task")])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h2",{staticClass:"font-bolder m2 rounded"},[t._v(t._s(t.taskData.title))]),t._v(" "),a("h4",{staticClass:"font-bolder m1 rounded"},[t._v(t._s(t.taskData.description))])])]),t._v(" "),t._l(t.comments,(function(e){return a("comment",{key:e.id,attrs:{commentData:e,taskId:t.taskData.id}})})),t._v(" "),a("div",{staticClass:"row text-center mx-3"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newComment.body,expression:"newComment.body"}],staticClass:"form-control",attrs:{type:"text",placeholder:"comment","aria-label":"Recipient's username","aria-describedby":"button-addon2",onfocus:"this.value=''"},domProps:{value:t.newComment.body},on:{input:function(e){e.target.composing||t.$set(t.newComment,"body",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-light btn-success",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){t.addComment()}}},[t._v("\n            Add\n            Comment\n          ")])])])])])],2)},S=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment row bg-light m-2 rounded shadow"},[a("div",{staticClass:"col-12 my-2"},[a("div",{staticClass:"row text-right"},[a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-sm",on:{click:function(e){t.deleteComment()}}},[a("i",{staticClass:"fas fa-trash-alt text-danger"})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("p",[t._v('"'+t._s(t.commentData.body)+'"')]),t._v(" "),a("p",{staticClass:"text-right"},[t._v("-"+t._s(t.commentData.creatorName))])])])])])},R=[],q={name:"comment",data(){return{}},props:["commentData"],computed:{},methods:{deleteComment(){this.$store.dispatch("deleteComment",this.commentData),this.$store.dispatch("getComments",this.commentData.taskId)}},components:{}},z=q,J=Object(u["a"])(z,U,R,!1,null,"a34dce70",null),W=J.exports,F={name:"task",data(){return{newComment:{}}},props:["taskData"],computed:{comments(){return this.$store.state.comments[this.taskData.id]}},methods:{getComments(){this.$store.dispatch("getComments",this.taskData.id)},addComment(){this.newComment.creatorName=this.$auth.user.name,this.newComment.taskId=this.taskData.id,console.log(this.newComment),this.$store.dispatch("addComment",this.newComment),this.newComment={},this.getComments()},deleteTask(){this.$store.dispatch("deleteTask",this.taskData),this.$store.dispatch("getTasks",this.taskData.listId)},moveTask(){this.$emit("dragstart")}},mounted(){this.$store.dispatch("getComments",this.taskData.id)},components:{Comment:W}},H=F,Y=Object(u["a"])(H,A,S,!1,null,"929dacae",null),K=Y.exports,X={name:"list",data(){return{newTask:{}}},props:["listData"],computed:{tasks(){return this.$store.state.tasks[this.listData.id]},tempData(){return this.$store.state.tempTask}},methods:{deleteList(){this.$store.dispatch("deleteList",this.listData),this.$store.dispatch("getLists",this.listData.boardId)},addTask(){this.newTask.listId=this.listData.id,console.log(this.newTask),this.$store.dispatch("addTask",this.newTask),this.newList={},this.$store.dispatch("getTasks",this.listData.id)},getTasks(){this.$store.dispatch("getTasks",this.listData.id)},reorderTask(t,e){console.log(t,e),this.$store.dispatch("setTaskToMove",{task:t,oldList:this.roomData})},moveTask(t){console.log(t),console.log("dropping Task");let e=JSON.parse(event.dataTransfer.getData("data")),a={newListId:t.id,oldListId:event.dataTransfer.getData("list"),taskToMove:e};this.$store.dispatch("moveTask",a)}},mounted(){this.$store.dispatch("getTasks",this.listData.id)},components:{task:K}},G=X,Q=Object(u["a"])(G,M,N,!1,null,"46a4f28e",null),V=Q.exports,Z={name:"board",props:["board"],data(){return{newList:{}}},computed:{lists(){return this.$store.state.lists},board(){return this.$store.state.activeBoard}},methods:{addList(){this.newList.boardId=this.$route.params.boardId,console.log(this.newList),this.$store.dispatch("addList",this.newList),this.newList={}}},mounted(){this.$store.dispatch("getLists",this.$route.params.boardId)},props:["boardId"],components:{list:V}},tt=Z,et=Object(u["a"])(tt,E,P,!1,null,null,null),at=et.exports;s["a"].use(k["a"]);var st=new k["a"]({routes:[{path:"/",name:"home",component:x},{path:"/boards",name:"boards",component:j,beforeEnter:v["b"]},{path:"/boards/:boardId",name:"board",component:at,beforeEnter:v["b"]},{path:"*",redirect:"/"}]}),ot=a("2f62");s["a"].use(ot["a"]);let it=window.location.host.includes("localhost")?"//localhost:3000":"//localhost:3000/",nt=d.a.create({baseURL:it+"api/",timeout:8e3,withCredentials:!0});var rt=new ot["a"].Store({state:{user:{},boards:[],activeBoard:{},lists:[],activeLists:{},tasks:{},activeTasks:{},comments:{},tempTask:{}},mutations:{setUser(t,e){t.user=e},setBoards(t,e){t.boards=e},setActiveBoard(t,e){t.activeBoard=e},setLists(t,e){t.lists=e},setTasks(t,e){s["a"].set(t.tasks,e.listId,e.tasks)},setComments(t,e){s["a"].set(t.comments,e.taskId,e.comments)},setTaskToMove(t,e){t.tempTask=e},removeFromList(t,e){let a=t.lists.find(t=>t.id==e.oldListId);a.task=a.tasks.filter(t=>t.id!=e.taskToMove.id)},addToList(t,e){let a=t.lists.find(t=>t.id==e.newListId);a.tasks.push(e.taskToMove)}},actions:{setBearer({},t){nt.defaults.headers.authorization=t},resetBearer(){nt.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await nt.get("/profile");t("setUser",e.data)}catch(e){console.error(e)}},async getBoard({commit:t},e){try{let a=await nt.get(`boards/${e}`);t("setActiveBoard",a.data)}catch(a){console.error(a)}},async getBoards({commit:t,dispatch:e}){await nt.get("boards").then(e=>{t("setBoards",e.data)})},async addBoard({commit:t,dispatch:e},a){await nt.post("boards",a).then(t=>{e("getBoards")})},async getActiveBoard({commit:t,dispatch:e},a){try{let e=await nt.get("boards/"+a);t("setActiveBoard",e.data)}catch(s){console.error(s)}},async editBoard({commit:t,dispatch:e},a){try{await nt.put("boards/"+a.id,a)}catch(s){console.error(s)}},async deleteBoard({commit:t,dispatch:e},a){try{await nt.delete("boards/"+a)}catch(s){console.error(s)}},async getLists({commit:t,dispatch:e},a){try{let e=await nt.get("/boards/"+a+"/lists");t("setLists",e.data)}catch(s){console.error(s)}},async addList({commit:t,dispatch:e},a){await nt.post("lists",a);e("getLists",a.boardId)},async editList({commit:t,dispatch:e},a){try{await nt.put("lists/"+a.id,a)}catch(s){console.error(s)}},async deleteList({commit:t,dispatch:e},a){try{await nt.delete("lists/"+a.id)}catch(s){console.error(s)}},async getTasks({commit:t,dispatch:e},a){try{let e=await nt.get("lists/"+a+"/tasks");console.log("getTasks called... res:",e),t("setTasks",{listId:a,tasks:e.data})}catch(s){console.error(s)}},async addTask({commit:t,dispatch:e},a){try{await nt.post("tasks",a);e("getTasks",a.listId)}catch(s){console.error(s)}},async editTask({commit:t,dispatch:e},a){try{await nt.delete("tasks/"+a.id)}catch(s){console.error(s)}},async deleteTask({commit:t,dispatch:e},a){try{await nt.delete("tasks/"+a.id)}catch(s){console.error(s)}},async getComments({commit:t,dispatch:e},a){try{let e=await nt.get("tasks/"+a+"/comments");console.log("comments",e.data),t("setComments",{taskId:a,comments:e.data})}catch(s){console.error(s)}},async addComment({commit:t,dispatch:e},a){await nt.post("comments",a)},async editComment({commit:t,dispatch:e},a){try{await nt.delete("comments/"+a.id)}catch(s){console.error(s)}},async deleteComment({commit:t,dispatch:e},a){try{await nt.delete("comments/"+a.id)}catch(s){console.error(s)}},setTaskToMove({commit:t,dispatch:e},a){t("setTaskToMove",a)},moveTask({commit:t,dispatch:e},a){t("removeFromList",a),t("addToList",a)}}});const ct="light-attracts-bugs.auth0.com",dt="https://kanban.com",lt="genfqiU6qPExpceU3Y162XESYW5tx3pB";s["a"].use(v["a"],{domain:ct,clientId:lt,audience:dt,onRedirectCallback:t=>{st.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:st,store:rt,render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),o=a.n(s);o.a},"9c0c":function(t,e,a){}});